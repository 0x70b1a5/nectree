<!DOCTYPE html>
<html>

<head>
    <title>NecTree</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        h2 {
            color: #333;
        }
    </style>
</head>

<body>
    <h2>NecTree</h2>
    <form id="linkForm">
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name"><br>
        <label for="url">URL:</label><br>
        <input type="text" id="url" name="url"><br>
        <label for="image">Image URL:</label><br>
        <input type="text" id="image" name="image"><br>
        <label for="description">Description:</label><br>
        <input type="text" id="description" name="description"><br>
        <label for="order">Order:</label><br>
        <input type="number" id="order" name="order"><br>
        <input type="submit" value="Add Link">
    </form>

    <script>
        document.getElementById('linkForm').addEventListener('submit', function (event) {
            event.preventDefault();

            var link = {
                name: document.getElementById('name').value,
                url: document.getElementById('url').value,
                image: document.getElementById('image').value,
                description: document.getElementById('description').value,
                order: Number(document.getElementById('order').value)
            };

            fetch('post', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ Save: link })
            }).then(function () {
                location.reload();
            });
        });
    </script>

    <script>
        function addDeleteButtonEventListeners() {
            var deleteButtons = document.getElementsByClassName('delete-button');
            for (var i = 0; i < deleteButtons.length; i++) {
                deleteButtons[i].addEventListener('click', function (event) {
                    event.preventDefault();

                    var name = event.target.getAttribute('data-name');

                    fetch('post', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ Delete: { name: name } })
                    }).then(function () {
                        location.reload();
                    });
                });
            }
        }

        addDeleteButtonEventListeners();
    </script>
</body>

</html>